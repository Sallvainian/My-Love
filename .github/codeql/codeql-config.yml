name: "CodeQL Config"

# Exclude auto-generated, third-party, and non-standard runtime code from analysis
paths-ignore:
  - 'node_modules/**'
  - 'dist/**'
  - 'dist-ssr/**'
  - 'coverage/**'
  - '.nyc_output/**'
  - 'build/**'
  - 'playwright-report/**'
  - 'test-results/**'
  - '**/*.min.js'
  - '**/*.bundle.js'
  - 'public/mockServiceWorker.js'
  # Deno edge functions use CDN imports (https://esm.sh/) and Deno-specific globals
  # that CodeQL's TypeScript extractor cannot parse. Exclude to eliminate parse warnings.
  - 'supabase/functions/**'

queries:
  - uses: security-extended
  - uses: security-and-quality

# Exclude queries with high false positive rates in this codebase.
# js/xss-through-dom: flags <img src={blobUrl}> in React components; blob URLs from
# URL.createObjectURL() are not user-supplied HTML and cannot cause XSS.
query-filters:
  - exclude:
      id: js/xss-through-dom

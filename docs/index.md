# My-Love Project Documentation

> Comprehensive project documentation generated by BMAD document-project workflow.
> Last updated: 2026-01-27 | Scan level: Deep (Rescan)

## Documentation Index

| Document | Description |
|----------|-------------|
| [Project Context](./project-context.md) | AI-optimized quick reference |
| [Architecture Overview](./architecture-overview.md) | System architecture and patterns |
| [Technology Stack](./technology-stack.md) | Technologies and versions |
| [API Reference](./api-reference.md) | API layer documentation |
| [Data Models](./data-models.md) | Database schema and types |
| [State Management](./state-management.md) | Zustand store architecture |
| [Component Inventory](./component-inventory.md) | UI component catalog |
| [Service Layer](./service-layer.md) | Services and utilities |

## Planning Artifacts

| Document | Description | Date |
|----------|-------------|------|
| [PRD](../_bmad-output/planning-artifacts/prd.md) | Product Requirements Document | 2026-01-25 |
| [UX Design](../_bmad-output/planning-artifacts/ux-design-specification.md) | UX Design Specification | 2026-01-25 |
| [Architecture](../_bmad-output/planning-artifacts/architecture.md) | Feature Architecture (Scripture Reading) | 2026-01-26 |
| [Epics & Stories](../_bmad-output/planning-artifacts/epics.md) | Implementation breakdown | 2026-01-26 |
| [Test Design - Arch](../_bmad-output/test-design-architecture.md) | Test architecture & risks | 2026-01-27 |
| [Test Design - QA](../_bmad-output/test-design-qa.md) | QA execution recipe | 2026-01-27 |
| [Implementation Readiness](../_bmad-output/planning-artifacts/implementation-readiness-report-2026-01-27.md) | Readiness assessment | 2026-01-27 |

## Project Summary

**My-Love** is a Progressive Web App (PWA) for couples communication, featuring:

- **Daily Love Messages** - Rotating heartfelt messages
- **Love Notes Chat** - Real-time messaging between partners with image support
- **Mood Tracker** - Emoji-based mood logging with partner view
- **Photo Gallery** - Shared photo memories with captions
- **Partner Interactions** - Playful pokes, kisses, and more
- **Relationship Timers** - Countdown to anniversaries and birthdays
- **Scripture Reading** - *(In Development)* Guided spiritual reading for couples

## Quick Stats

| Metric | Count |
|--------|-------|
| API Files | 8 |
| Database Tables | 5 |
| Database Migrations | 7 |
| Zustand Slices | 9 |
| Service Files | 13 |
| UI Components | 58 |
| Custom Hooks | 10 |
| CI Workflows | 5 |
| Test Files | 76+ |

## Key Technologies

- **Frontend**: React 19.2.3, TypeScript 5.9.3, Vite 7.3.1
- **State**: Zustand 5.0.10 with slice composition (9 slices)
- **Backend**: Supabase 2.90.1 (Auth, Database, Storage, Realtime)
- **Styling**: Tailwind CSS 4.1.17, Framer Motion 12.27.1
- **Offline**: IndexedDB (idb 8.0.3) with service worker
- **Validation**: Zod 4.3.5
- **Testing**: Vitest 4.0.17 (unit, 80% coverage), Playwright 1.57.0 (E2E)
- **Deployment**: GitHub Pages via GitHub Actions

## Architecture Pattern

- **Type**: Monolith SPA (Single Page Application)
- **Pattern**: Component-based with layered architecture
- **Data Flow**: Components → Hooks → Store (Zustand) → Services → API (Supabase)
- **Offline Strategy**: IndexedDB local storage + Supabase sync + Background Sync API
- **PWA**: Service worker with injectManifest strategy

## Directory Structure

```
src/
├── api/              # Supabase API integration (8 files)
│   ├── supabaseClient.ts    # Singleton client
│   ├── authService.ts       # Authentication
│   ├── moodApi.ts           # Mood CRUD
│   ├── moodSyncService.ts   # Mood sync
│   ├── interactionService.ts # Poke/kiss
│   ├── partnerService.ts    # Partner management
│   └── validation/          # Zod schemas
├── components/       # React components (58 files, 25+ dirs)
│   ├── love-notes/          # Chat messaging
│   ├── MoodTracker/         # Mood logging
│   ├── PhotoGallery/        # Photo management
│   ├── Navigation/          # Bottom nav
│   ├── scripture-reading/   # (New) Scripture feature
│   └── ...
├── hooks/            # Custom React hooks (10 files)
│   ├── useAuth.ts           # Authentication
│   ├── useLoveNotes.ts      # Chat messages
│   ├── useRealtimeMessages.ts # Realtime sync
│   └── ...
├── services/         # Business logic services (13 files)
│   ├── dbSchema.ts          # IndexedDB schema (v4)
│   ├── syncService.ts       # Data sync
│   ├── realtimeService.ts   # Supabase realtime
│   └── ...
├── stores/           # Zustand state management
│   ├── useAppStore.ts       # Main store
│   ├── types.ts             # Type definitions
│   └── slices/              # 9 feature slices
├── config/           # App configuration
├── constants/        # Constants and animations
├── data/             # Default data (messages)
├── types/            # TypeScript types
├── utils/            # Utility functions
└── validation/       # Input validation
```

## Database Schema

| Table | Purpose | RLS |
|-------|---------|-----|
| `users` | User profiles, partner relationships | Yes |
| `moods` | Emoji mood entries with notes | Yes |
| `love_notes` | Chat messages between partners | Yes |
| `interactions` | Poke/kiss interactions | Yes |
| `partner_requests` | Partner connection workflow | Yes |

## CI/CD Pipeline

| Workflow | Trigger | Purpose |
|----------|---------|---------|
| `test.yml` | Push/PR | Lint → Unit → E2E (sharded) → Burn-in |
| `deploy.yml` | Push to main | Build → Smoke → Deploy → Health check |
| `supabase-migrations.yml` | PR | Migration validation |
| `claude.yml` | Issue/PR | AI assistance |
| `claude-code-review.yml` | PR | Automated code review |

## Getting Started

```bash
# Install dependencies
npm ci

# Start development server
npm run dev

# Run tests
npm run test:unit        # Unit tests
npm run test:e2e         # E2E tests

# Build for production
npm run build
```

## Related Documentation

- [README.md](../README.md) - Project setup guide
- [Sprint Status](../_bmad-output/implementation-artifacts/sprint-status.yaml) - Current sprint progress
- [Workflow Status](../_bmad-output/planning-artifacts/bmm-workflow-status.yaml) - BMAD workflow tracking

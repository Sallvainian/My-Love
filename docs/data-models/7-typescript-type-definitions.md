# 7. TypeScript Type Definitions

## 7.1 Generated Supabase Types (`database.types.ts`)

Auto-generated by `supabase gen types typescript`. Provides `Row`, `Insert`, and `Update` types for each table. Key utility types:

```typescript
// Get the row type for a table
type Tables<TableName> = Database['public']['Tables'][TableName]['Row'];

// Get the insert type
type TablesInsert<TableName> = Database['public']['Tables'][TableName]['Insert'];

// Get the update type
type TablesUpdate<TableName> = Database['public']['Tables'][TableName]['Update'];

// Get an enum type
type Enums<EnumName> = Database['public']['Enums'][EnumName];
```

## 7.2 Application Types (`types/index.ts`)

Domain-level types used throughout the application.

| Type | Description |
|---|---|
| `ThemeName` | `'sunset' \| 'ocean' \| 'lavender' \| 'rose'` |
| `MessageCategory` | `'reason' \| 'memory' \| 'affirmation' \| 'future' \| 'custom'` |
| `MoodType` | 12 mood values (loved, happy, content, etc.) |
| `Message` | Local message with id, text, category, tags |
| `Photo` | Local photo with blob, dimensions, compression metadata |
| `MoodEntry` | Mood with sync state (`synced`, `supabaseId`) |
| `Settings` | Full app settings (theme, relationship, notifications) |
| `MessageHistory` | Message rotation state with date-to-ID mapping |
| `CustomMessage` | User-created message with active/inactive toggle |
| `AppState` | Top-level state container |

## 7.3 Supabase Model Types (`types/models.ts`)

Re-exports and defines types for Supabase table records.

| Type | Description |
|---|---|
| `LoveNote` | Love note with client-side fields (`sending`, `error`, `tempId`, `imageBlob`) |
| `LoveNotesState` | Zustand store shape for love notes |
| `SendMessageInput` | Input for sending a love note |
| `MessageValidationResult` | Validation result with optional error message |

Scripture types re-exported from `dbSchema.ts`:

| Type | Description |
|---|---|
| `ScriptureSession` | IndexedDB-shaped session |
| `ScriptureReflection` | IndexedDB-shaped reflection |
| `ScriptureBookmark` | IndexedDB-shaped bookmark |
| `ScriptureMessage` | IndexedDB-shaped message |

---

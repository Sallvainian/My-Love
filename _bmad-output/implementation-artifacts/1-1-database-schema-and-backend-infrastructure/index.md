# Story 1.1: Database Schema & Backend Infrastructure

## Table of Contents

- [Story 1.1: Database Schema & Backend Infrastructure](#table-of-contents)
  - [Story](./story.md)
  - [Acceptance Criteria](./acceptance-criteria.md)
  - [Tasks / Subtasks](./tasks-subtasks.md)
    - [Phase 1B: RLS/RPC Implementation (ATDD RED→GREEN)](./tasks-subtasks.md#phase-1b-rlsrpc-implementation-atdd-redgreen)
    - [Review Follow-ups (AI)](./tasks-subtasks.md#review-follow-ups-ai)
  - [Dev Notes](./dev-notes.md)
    - [ATDD RED→GREEN: 10 API Tests to Make Pass](./dev-notes.md#atdd-redgreen-10-api-tests-to-make-pass)
    - [Migration File for New RPCs](./dev-notes.md#migration-file-for-new-rpcs)
    - [Test Infrastructure Notes](./dev-notes.md#test-infrastructure-notes)
    - [What Already Exists (Sprint 0)](./dev-notes.md#what-already-exists-sprint-0)
    - [What Needs to Be Created](./dev-notes.md#what-needs-to-be-created)
    - [Architecture Compliance](./dev-notes.md#architecture-compliance)
    - [Cache Pattern (Solo Mode — Server is Source of Truth)](./dev-notes.md#cache-pattern-solo-mode-server-is-source-of-truth)
    - [IndexedDB Stores (from dbSchema.ts)](./dev-notes.md#indexeddb-stores-from-dbschemats)
    - [Zustand Slice Pattern (from existing slices)](./dev-notes.md#zustand-slice-pattern-from-existing-slices)
    - [Error Handling Pattern](./dev-notes.md#error-handling-pattern)
    - [Static Scripture Data Structure](./dev-notes.md#static-scripture-data-structure)
    - [Supabase RPC Signatures (Already in Migration)](./dev-notes.md#supabase-rpc-signatures-already-in-migration)
    - [RLS Pattern (Session-Based Access)](./dev-notes.md#rls-pattern-session-based-access)
    - [sw-db.ts Sync Note](./dev-notes.md#sw-dbts-sync-note)
    - [Technology Versions (Locked)](./dev-notes.md#technology-versions-locked)
    - [Project Structure Notes](./dev-notes.md#project-structure-notes)
    - [References](./dev-notes.md#references)
  - [Dev Agent Record](./dev-agent-record.md)
    - [Agent Model Used](./dev-agent-record.md#agent-model-used)
    - [Debug Log References](./dev-agent-record.md#debug-log-references)
    - [Completion Notes List](./dev-agent-record.md#completion-notes-list)
    - [Validation Gates](./dev-agent-record.md#validation-gates)
    - [File List](./dev-agent-record.md#file-list)

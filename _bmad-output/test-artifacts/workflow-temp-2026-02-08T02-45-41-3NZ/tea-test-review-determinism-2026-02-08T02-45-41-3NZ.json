{
  "dimension": "determinism",
  "score": 84,
  "max_score": 100,
  "grade": "B",
  "violations": [
    {
      "file": "tests/e2e/scripture/scripture-reflection-2.3.spec.ts",
      "line": 271,
      "severity": "MEDIUM",
      "category": "ambiguous-assertion",
      "description": "`toContainText('3')` and `toContainText('5')` are asserted on a container that also includes verse reference text (e.g. 'Psalm 147:3'), which can produce false positives/negatives.",
      "suggestion": "Assert on rating-chip specific test ids or regex-constrained text nodes (user vs partner rating slots).",
      "code_snippet": "await expect(page.getByTestId('scripture-report-rating-step-0')).toContainText('3');"
    },
    {
      "file": "tests/e2e/scripture/scripture-overview.spec.ts",
      "line": 225,
      "severity": "MEDIUM",
      "category": "fixed-state-assumption",
      "description": "Test assumes the resume prompt must always show Step 7, but parallel suite state can surface another in-progress session step unless session identity is pinned.",
      "suggestion": "Bind expectation to the created session id or verify current_step_index from API before asserting UI text.",
      "code_snippet": "await expect(page.getByTestId('resume-prompt')).toContainText(/Step 7 of 17/i);"
    }
  ],
  "passed_checks": 10,
  "failed_checks": 2,
  "total_checks": 12,
  "violation_summary": {
    "HIGH": 0,
    "MEDIUM": 2,
    "LOW": 0
  },
  "recommendations": [
    "Replace broad `toContainText` assertions with slot-level assertions for ratings.",
    "Assert session identity and step index through deterministic API reads before UI checks.",
    "Keep dynamic values deterministic by avoiding broad text matching on mixed-content containers."
  ],
  "summary": "Determinism is mostly strong; two medium issues stem from ambiguous text matching and fixed-state assumptions under parallel load."
}

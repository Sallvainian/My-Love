{
  "dimension": "maintainability",
  "score": 74,
  "max_score": 100,
  "grade": "C",
  "violations": [
    {
      "file": "tests/e2e/scripture/scripture-reflection-2.3.spec.ts",
      "line": 220,
      "severity": "MEDIUM",
      "category": "assertion-precision",
      "description": "Assertions target broad containers instead of semantically precise elements, reducing failure diagnosability.",
      "suggestion": "Introduce dedicated test ids for partner/user rating cells and message card blocks.",
      "code_snippet": "await expect(page.getByTestId('scripture-report-rating-step-0')).toContainText('5');"
    },
    {
      "file": "tests/e2e/scripture/scripture-overview.spec.ts",
      "line": 27,
      "severity": "MEDIUM",
      "category": "helper-side-effect-coupling",
      "description": "Scenario correctness depends on helper internals (`saveSoloSessionAtStep` + shared helper state), making failures hard to localize.",
      "suggestion": "Move setup to explicit fixture utilities returning the exact session id/step used for assertions.",
      "code_snippet": "async function saveSoloSessionAtStep(page: Page, step: number): Promise<void>"
    },
    {
      "file": "tests/support/helpers.ts",
      "line": 24,
      "severity": "LOW",
      "category": "retry-magic-numbers",
      "description": "Auth/session retry windows are embedded constants without environment tuning, making maintenance across CI environments harder.",
      "suggestion": "Promote retry/timeouts to test config/env-driven values with documented defaults.",
      "code_snippet": "const AUTH_READINESS_MAX_ATTEMPTS = 5;"
    }
  ],
  "passed_checks": 9,
  "failed_checks": 3,
  "total_checks": 12,
  "violation_summary": {
    "HIGH": 0,
    "MEDIUM": 2,
    "LOW": 1
  },
  "recommendations": [
    "Refactor report assertions to semantic element-level checks.",
    "Return structured setup artifacts (session id, expected step) from helpers.",
    "Centralize retry/timeout tuning in one config surface."
  ],
  "summary": "Maintainability is acceptable but reduced by broad assertions and helper coupling that obscure root cause during failures."
}
